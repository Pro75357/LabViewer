<!-- Define the lab group templates here. Lots of re-usable code. -->
<template name="labTables">
    <div class="accordion-group">
        {{> A1cTable}}
        {{> glucoseTable}}
        {{> creatanineTable}}
        {{> heightWeightTable}}
    </div>
</template>

<template name="A1cTable">
    {{#if dataArray}}
    <div class="panel-heading">
        <h4 class="panel-title">
            <a data-toggle="collapse" href="#{{groupName}}"> {{groupName}} values found: {{dataLength}}</a>
        </h4>
    </div>
    <div id="{{groupName}}" class="panel-collapse collapse">
        <div class="panel-body">

            <table class="table table-hover table-bordered table-condensed table-responsive">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Value</td>
                        <td>date/time</td>
                    </tr>
                </thead>
                <tbody class="small">
                    {{#each dataArray}}
                    <tr class="obsrow">
                        <td> {{resource.code.coding.[0].display}} </td>
                        <td>  {{formatNumber resource.valueQuantity.value}} {{resource.valueQuantity.unit}}</td>
                        <td> {{formatDate resource.effectiveDateTime}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            </div>
        </div>
    {{/if}}
</template>

<template name="glucoseTable">
    {{#if dataArray}}
    <div class="panel-heading">
        <h4 class="panel-title">
            <a data-toggle="collapse" href="#{{groupName}}"> {{groupName}} values found: {{dataLength}}</a>
        </h4>
    </div>
    <div id="{{groupName}}" class="panel-collapse collapse">
        <div class="panel-body">

            <table class="table table-hover table-bordered table-condensed table-responsive">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Value</td>
                        <td>date/time</td>
                    </tr>
                </thead>
                <tbody class="small">
                    {{#each dataArray}}
                    <tr class="obsrow">
                        <td> {{resource.code.coding.[0].display}} </td>
                        <td>  {{formatNumber resource.valueQuantity.value}} {{resource.valueQuantity.unit}}</td>
                        <td> {{formatDate resource.effectiveDateTime}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    {{/if}}
</template>

<template name="creatanineTable">
    {{#if dataArray}}
    <div class="panel-heading">
        <h4 class="panel-title">
            <a data-toggle="collapse" href="#{{groupName}}"> {{groupName}}: {{dataLength}}</a>
        </h4>
    </div>
    <div id="{{groupName}}" class="panel-collapse collapse">
        <div class="panel-body">

            <table class="table table-hover table-bordered table-condensed table-responsive">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Value</td>
                        <td>date/time</td>
                    </tr>
                </thead>
                <tbody class="small">
                    {{#each dataArray}}
                    <tr class="obsrow">
                        <td> {{resource.code.coding.[0].display}} </td>
                        <td>  {{formatNumber resource.valueQuantity.value}} {{resource.valueQuantity.unit}}</td>
                        <td> {{formatDate resource.effectiveDateTime}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    {{/if}}
</template>

<template name="heightWeightTable">
    {{#if dataArray}}
    <div class="panel-heading">
        <h4 class="panel-title">
            <a data-toggle="collapse" href="#{{groupName}}"> {{groupName}}: {{dataLength}}</a>
        </h4>
    </div>
    <div id="{{groupName}}" class="panel-collapse collapse">
        <div class="panel-body">

            <table class="table table-hover table-bordered table-condensed table-responsive">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Value</td>
                        <td>date/time</td>
                    </tr>
                </thead>
                <tbody class="small">
                    {{#each dataArray}}
                    <tr class="obsrow">
                        <td> {{resource.code.coding.[0].display}} </td>
                        <td>  {{formatNumber resource.valueQuantity.value}} {{resource.valueQuantity.unit}}</td>
                        <td> {{formatDate resource.effectiveDateTime}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    {{/if}}
</template>